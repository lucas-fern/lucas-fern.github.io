---
layout: unlisted
title: Spinner
---
<head>
    <link rel="stylesheet" href="/public/css/spinner.css">
</head>

<body>
    <blockquote> Thought this would be a cool first javascript task, at the moment picks from a random list of names when we <button class="name-generator" onclick="set_names()">Set Names</button> or you can... <button class="comedy-spin" onclick="toggle_premium_comedy_spin()">Enable Premium Comedy Mode</button> ü§î </blockquote>

    <div id="mainbox" class="mainbox">
        <div id="box" class="box">
            <div class="oranges">
                <span class="slice orange-slice up"><p class="name"> </p></span>
                <span class="slice orange-slice right"><p class="name"> </p></span>
                <span class="slice orange-slice down"><p class="name"> </p></span>
                <span class="slice orange-slice left"><p class="name"> </p></span>
            </div>
            <div class="yellows">
                <span class="slice yellow-slice up"><p class="name"> </p></span>
                <span class="slice yellow-slice right"><p class="name"> </p></span>
                <span class="slice yellow-slice down"><p class="name"> </p></span>
                <span class="slice yellow-slice left"><p class="name"> </p></span>
            </div>
        </div>
        <button class="spin" onclick="spin_spinner()">SPIN</button>
    </div>

    <h2> Code </h2>
    <div>
I pretty much just start with 8 coloured sectors all at the top:
{% highlight HTML %}
<div class="oranges">
    <span class="slice orange-slice up"><p class="name"> </p></span>
    <span class="slice orange-slice right"><p class="name"> </p></span>
    <span class="slice orange-slice down"><p class="name"> </p></span>
    <span class="slice orange-slice left"><p class="name"> </p></span>
</div>
<div class="yellows">
    <span class="slice yellow-slice up"><p class="name"> </p></span>
    <span class="slice yellow-slice right"><p class="name"> </p></span>
    <span class="slice yellow-slice down"><p class="name"> </p></span>
    <span class="slice yellow-slice left"><p class="name"> </p></span>
</div>
{% endhighlight %}
{% highlight css %}
{% raw %}
.orange-slice {
    clip-path: polygon(50% 100%, 92% 0, 8% 0);
    background-color: #FF5733;
}
.yellow-slice {
    clip-path: polygon(50% 100%, 92% 0, 8% 0);
    background-color: #FFC300;
}
{% endraw %}
{% endhighlight %}
use the HTML class with the direction to control the rotation:
{% highlight css %}
{% raw %}
.up {
    top: 0px;
    left: 120px;
}
.right {
    top: 120px;
    right: 0;
    transform: rotate(90deg);
}
.down {
    bottom: 0;
    left: 120px;
    transform: rotate(180deg);
}
.left {
    top: 120px;
    left: 0;
    transform: rotate(270deg);
}
{% endraw %}
{% endhighlight %}
and rotate the <code>yellows</code> div 45¬∞ clockwise:
{% highlight css %}
{% raw %}
.yellows{
    width: 100%;
    height: 100%;
    transform: rotate(45deg);
}
{% endraw %}
{% endhighlight %}
To do the spinning we just pick a large random angle, rotate the <code>box</code> containing the spinner with css, and toggle the animation property.
{% highlight javascript %}
{% raw %}
function spin_spinner() {
    var min_deg = 4000;
    var max_deg = 10000;

    angle_change = (Math.floor(Math.random() * (max_deg - min_deg)) + min_deg) * 
                   (Math.round(Math.random()) * 2 - 1);  // random direction
    current_angle = current_angle + angle_change;

    document.getElementById('box').style.transform = "rotate("+current_angle+"deg)";

    var element = document.getElementById('mainbox');
    element.classList.remove('animate');
    setTimeout(function(){
        element.classList.add('animate');
    }, 5000);
}
{% endraw %}
{% endhighlight %}
    </div>


<script>
var NAMES = ["Liam", "Noah", "Oliver", "Steve üòç", "Elijah", "James", "Benjamin", "Lucas", "Mason", "Ethan", "Alexander", "Henry", "Jacob", "Michael", "Daniel", "Logan", "Jackson", "Sebastian", "Jack", "Aiden", "Olivia", "Emma", "Ava", "Sophia", "Isabella", "Charlotte", "Amelia", "Kerry üòç", "Harper", "Evelyn", "Abigail", "Emily", "Ella", "Elizabeth", "Natalie üòç", "Luna", "Sofia", "Avery", "Mila", "Aria"]
var comedy_spin = false;
var current_angle = 0;

function set_names() {
    var spinner_names = document.getElementsByClassName("name");

    var current_name;
    for (var i = 0; i < spinner_names.length; i++) {
        current_name = NAMES[Math.floor(Math.random() * NAMES.length)];
        spinner_names[i].innerHTML = current_name;
    }
}

function set_premium_comedy_names() {
    var spinner_names = document.getElementsByClassName("name");

    for (var i = 0; i < spinner_names.length; i++) {
        spinner_names[i].innerHTML = ["üí¶", "my", "is", "üëÖ", "rim", "on", "Steve", "üëå"][i];
    }
}

function toggle_premium_comedy_spin() {
    comedy_spin = !comedy_spin;
}

function spin_spinner() {
    var min_deg = 4000;
    var max_deg = 10000;

    angle_change = (Math.floor(Math.random() * (max_deg - min_deg)) + min_deg) * 
                   (Math.round(Math.random()) * 2 - 1);  // random direction
    current_angle = current_angle + angle_change;

    document.getElementById('box').style.transform = "rotate("+current_angle+"deg)";

    var element = document.getElementById('mainbox');
    element.classList.remove('animate');
    setTimeout(function(){
        element.classList.add('animate');
    }, 5000);  // 5 seconds

    if (comedy_spin) { 
        setTimeout(() => { set_premium_comedy_names(); }, 1000); 
    }
}

set_names()
</script>
</body>
</html>